{"remainingRequest":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\views\\login\\Login.vue?vue&type=template&id=54de0bb0&scoped=true","dependencies":[{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\views\\login\\Login.vue","mtime":1629889030078},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0id3JhcHBlciI+CiAgICA8aW1nCiAgICAgIGNsYXNzPSJ3cmFwcGVyX19pbWciCiAgICAgIHNyYz0iaHR0cHM6Ly9naXRlZS5jb20vempjMTM1NDQzNjEwNjMvempjLW1hcmtkb3duLXBpY3R1cmUvcmF3L21hc3Rlci/lvq7kv6Hlm77niYdfMjAyMTA4MjUxODMzMTkucG5nIgogICAgLz4KICAgIDxkaXYgY2xhc3M9IndyYXBwZXJfX2lucHV0Ij4KICAgICAgPGlucHV0CiAgICAgICAgY2xhc3M9IndyYXBwZXJfX2lucHV0X19jb250ZW50IgogICAgICAgIHBsYWNlaG9sZGVyPSLnlKjmiLflkI0iCiAgICAgICAgdi1tb2RlbD0idXNlcm5hbWUiCiAgICAgIC8+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9IndyYXBwZXJfX2lucHV0Ij4KICAgICAgPGlucHV0CiAgICAgICAgdHlwZT0icGFzc3dvcmQiCiAgICAgICAgY2xhc3M9IndyYXBwZXJfX2lucHV0X19jb250ZW50IgogICAgICAgIHBsYWNlaG9sZGVyPSLor7fovpPlhaXlr4bnoIEiCiAgICAgICAgdi1tb2RlbD0icGFzc3dvcmQiCiAgICAgICAgYXV0b2NvbXBsZXRlPSJuZXctcGFzc3dvcmQiCiAgICAgIC8+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9IndyYXBwZXJfX2xvZ2luLWJ1dHRvbiIgQGNsaWNrPSJoYW5kbGVMb2dpbiI+55m76ZmGPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ3cmFwcGVyX19sb2dpbi1saW5rIiBAY2xpY2s9ImhhbmRsZVJlZ2lzdGVyQ2xpY2siPueri+WNs+azqOWGjDwvZGl2PgogICAgPFRvYXN0IHYtaWY9InNob3ciIDptZXNzYWdlPSJ0b2FzdE1lc3NhZ2UiIC8+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\views\\login\\Login.vue"],"names":[],"mappings":"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","file":"E:/学习软件/Vue项目/Vue实战/jingdong/src/views/login/Login.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <img\n      class=\"wrapper__img\"\n      src=\"https://gitee.com/zjc13544361063/zjc-markdown-picture/raw/master/微信图片_20210825183319.png\"\n    />\n    <div class=\"wrapper__input\">\n      <input\n        class=\"wrapper__input__content\"\n        placeholder=\"用户名\"\n        v-model=\"username\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        type=\"password\"\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入密码\"\n        v-model=\"password\"\n        autocomplete=\"new-password\"\n      />\n    </div>\n    <div class=\"wrapper__login-button\" @click=\"handleLogin\">登陆</div>\n    <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">立即注册</div>\n    <Toast v-if=\"show\" :message=\"toastMessage\" />\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { post } from \"../../utils/request\";\nimport Toast, { useToastEffect } from \"../../components/Toast\";\n\n// 处理注册逻辑\nconst useLoginEffect = (showToast) => {\n  const router = useRouter();\n  const data = reactive({ username: \"\", password: \"\" });\n\n  const handleLogin = async () => {\n    try {\n      const result = await post(\"/api/user/login\", {\n        username: data.username,\n        password: data.password,\n      });\n      if (result?.errno === 0) {\n        localStorage.isLogin = true;\n        router.push({ name: \"Home\" });\n      } else {\n        showToast(\"登陆失败\");\n      }\n    } catch (e) {\n      showToast(\"请求失败\");\n    }\n  };\n\n  const { username, password } = toRefs(data);\n  return { username, password, handleLogin };\n};\n\n// 处理注册跳转\nconst useRegisterEffect = () => {\n  const router = useRouter();\n  const handleRegisterClick = () => {\n    router.push({ name: \"Register\" });\n  };\n  return { handleRegisterClick };\n};\n\nexport default {\n  name: \"Login\",\n  components: { Toast },\n  // 职责就是告诉你，代码执行的一个流程\n  setup() {\n    const { show, toastMessage, showToast } = useToastEffect();\n    const { username, password, handleLogin } = useLoginEffect(showToast);\n    const { handleRegisterClick } = useRegisterEffect();\n\n    return {\n      username,\n      password,\n      show,\n      toastMessage,\n      handleLogin,\n      handleRegisterClick,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/viriables.scss\";\n.wrapper {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n  &__img {\n    display: block;\n    margin: 0 auto 0.4rem auto;\n    width: 0.66rem;\n    height: 0.66rem;\n  }\n  &__input {\n    height: 0.48rem;\n    margin: 0 0.4rem 0.16rem 0.4rem;\n    padding: 0 0.16rem;\n    background: #f9f9f9;\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.06rem;\n    border-radius: 0.06rem;\n    &__content {\n      margin-top: 0.12rem;\n      line-height: 0.22rem;\n      border: none;\n      outline: none;\n      width: 100%;\n      background: none;\n      font-size: 0.16rem;\n      color: $content-notice-fontcolor;\n      &::placeholder {\n        color: $content-notice-fontcolor;\n      }\n    }\n  }\n  &__login-button {\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\n    line-height: 0.48rem;\n    background: #0091ff;\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\n    border-radius: 0.04rem;\n    border-radius: 0.04rem;\n    color: $bgColor;\n    font-size: 0.16rem;\n    text-align: center;\n  }\n  &__login-link {\n    text-align: center;\n    font-size: 0.14rem;\n    color: $content-notice-fontcolor;\n  }\n}\n</style>"]}]}