{"remainingRequest":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\thread-loader\\dist\\cjs.js!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\babel-loader\\lib\\index.js!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\effects\\addressEffect.js","dependencies":[{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\effects\\addressEffect.js","mtime":1607781829000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L1x1NUI2Nlx1NEU2MFx1OEY2Rlx1NEVGNi9WdWVcdTk4NzlcdTc2RUUvVnVlXHU1QjlFXHU2MjE4L2ppbmdkb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBnZXQgfSBmcm9tICcuLi91dGlscy9yZXF1ZXN0JzsKCnZhciB1c2VDb21tb25BZGRyZXNzRWZmZWN0ID0gZnVuY3Rpb24gdXNlQ29tbW9uQWRkcmVzc0VmZmVjdCgpIHsKICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwoKICB2YXIgZ2V0QWRkcmVzc0xpc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZm9yY2VVcGRhdGUpIHsKICAgICAgdmFyIGFkZHJlc3NMaXN0LCBfcmVzdWx0JGRhdGEsIHJlc3VsdDsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhZGRyZXNzTGlzdCA9IHN0b3JlLnN0YXRlLmFkZHJlc3NMaXN0OwoKICAgICAgICAgICAgICBpZiAoIShmb3JjZVVwZGF0ZSB8fCAhYWRkcmVzc0xpc3QubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBnZXQoJy9hcGkvdXNlci9hZGRyZXNzJyk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHZvaWQgMCAmJiAoX3Jlc3VsdCRkYXRhID0gcmVzdWx0LmRhdGEpICE9PSBudWxsICYmIF9yZXN1bHQkZGF0YSAhPT0gdm9pZCAwICYmIF9yZXN1bHQkZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgnY2hhbmdlQWRkcmVzc0xpc3QnLCByZXN1bHQuZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0QWRkcmVzc0xpc3QoX3gpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICByZXR1cm4gewogICAgZ2V0QWRkcmVzc0xpc3Q6IGdldEFkZHJlc3NMaXN0CiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHVzZUNvbW1vbkFkZHJlc3NFZmZlY3Q7"},{"version":3,"sources":["E:/学习软件/Vue项目/Vue实战/jingdong/src/effects/addressEffect.js"],"names":["useStore","get","useCommonAddressEffect","store","getAddressList","forceUpdate","addressList","state","length","result","data","commit"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,MAAzB;AACA,SAASC,GAAT,QAAoB,kBAApB;;AAEA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AACnC,MAAMC,KAAK,GAAGH,QAAQ,EAAtB;;AAEA,MAAMI,cAAc;AAAA,uEAAG,iBAAOC,WAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACfC,cAAAA,WADe,GACDH,KAAK,CAACI,KAAN,CAAYD,WADX;;AAAA,oBAElBD,WAAW,IAAI,CAACC,WAAW,CAACE,MAFV;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGEP,GAAG,CAAC,mBAAD,CAHL;;AAAA;AAGbQ,cAAAA,MAHa;;AAInB,kBAAGA,MAAH,aAAGA,MAAH,+BAAGA,MAAM,CAAEC,IAAX,yCAAG,aAAcF,MAAjB,EAAyB;AACvBL,gBAAAA,KAAK,CAACQ,MAAN,CAAa,mBAAb,EAAkCF,MAAM,CAACC,IAAzC;AACD;;AANkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdN,cAAc;AAAA;AAAA;AAAA,KAApB;;AAUA,SAAO;AAAEA,IAAAA,cAAc,EAAdA;AAAF,GAAP;AACD,CAdD;;AAgBA,eAAeF,sBAAf","sourcesContent":["import { useStore } from 'vuex'\nimport { get } from '../utils/request'\n\nconst useCommonAddressEffect = () => {\n  const store = useStore()\n\n  const getAddressList = async (forceUpdate) => {\n    const addressList = store.state.addressList;\n    if(forceUpdate || !addressList.length) {\n      const result = await get('/api/user/address')\n      if(result?.data?.length) {\n        store.commit('changeAddressList', result.data)\n      }\n    }\n  }\n\n  return { getAddressList }\n}\n\nexport default useCommonAddressEffect"]}]}