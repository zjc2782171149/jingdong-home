{"remainingRequest":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\babel-loader\\lib\\index.js!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\views\\register\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\views\\register\\Register.vue","mtime":1607158747000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L1x1NUI2Nlx1NEU2MFx1OEY2Rlx1NEVGNi9WdWVcdTk4NzlcdTc2RUUvVnVlXHU1QjlFXHU2MjE4L2ppbmdkb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHBvc3QgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IFRvYXN0LCB7IHVzZVRvYXN0RWZmZWN0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Ub2FzdCc7IC8vIOWkhOeQhuazqOWGjOebuOWFs+mAu+i+kQoKdmFyIHVzZVJlZ2lzdGVyRWZmZWN0ID0gZnVuY3Rpb24gdXNlUmVnaXN0ZXJFZmZlY3Qoc2hvd1RvYXN0KSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgdXNlcm5hbWU6ICcnLAogICAgcGFzc3dvcmQ6ICcnLAogICAgZW5zdXJlbWVudDogJycKICB9KTsKCiAgdmFyIGhhbmRsZVJlZ2lzdGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHBvc3QoJy9hcGkvdXNlci9yZWdpc3RlcicsIHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBkYXRhLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGRhdGEucGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDApIHsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ0xvZ2luJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5rOo5YaM5aSx6LSlJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDc7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICBzaG93VG9hc3QoJ+ivt+axguWksei0pScpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA3XV0pOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVSZWdpc3RlcigpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB2YXIgX3RvUmVmcyA9IHRvUmVmcyhkYXRhKSwKICAgICAgdXNlcm5hbWUgPSBfdG9SZWZzLnVzZXJuYW1lLAogICAgICBwYXNzd29yZCA9IF90b1JlZnMucGFzc3dvcmQsCiAgICAgIGVuc3VyZW1lbnQgPSBfdG9SZWZzLmVuc3VyZW1lbnQ7CgogIHJldHVybiB7CiAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICBlbnN1cmVtZW50OiBlbnN1cmVtZW50LAogICAgaGFuZGxlUmVnaXN0ZXI6IGhhbmRsZVJlZ2lzdGVyCiAgfTsKfTsgLy8g5aSE55CG55m76ZmG6Lez6L2sCgoKdmFyIHVzZUxvZ2luRWZmZWN0ID0gZnVuY3Rpb24gdXNlTG9naW5FZmZlY3QoKSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICB2YXIgaGFuZGxlTG9naW5DbGljayA9IGZ1bmN0aW9uIGhhbmRsZUxvZ2luQ2xpY2soKSB7CiAgICByb3V0ZXIucHVzaCh7CiAgICAgIG5hbWU6ICdMb2dpbicKICAgIH0pOwogIH07CgogIHJldHVybiB7CiAgICBoYW5kbGVMb2dpbkNsaWNrOiBoYW5kbGVMb2dpbkNsaWNrCiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudHM6IHsKICAgIFRvYXN0OiBUb2FzdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VUb2FzdEVmZmVjdCA9IHVzZVRvYXN0RWZmZWN0KCksCiAgICAgICAgc2hvdyA9IF91c2VUb2FzdEVmZmVjdC5zaG93LAogICAgICAgIHRvYXN0TWVzc2FnZSA9IF91c2VUb2FzdEVmZmVjdC50b2FzdE1lc3NhZ2UsCiAgICAgICAgc2hvd1RvYXN0ID0gX3VzZVRvYXN0RWZmZWN0LnNob3dUb2FzdDsKCiAgICB2YXIgX3VzZVJlZ2lzdGVyRWZmZWN0ID0gdXNlUmVnaXN0ZXJFZmZlY3Qoc2hvd1RvYXN0KSwKICAgICAgICB1c2VybmFtZSA9IF91c2VSZWdpc3RlckVmZmVjdC51c2VybmFtZSwKICAgICAgICBwYXNzd29yZCA9IF91c2VSZWdpc3RlckVmZmVjdC5wYXNzd29yZCwKICAgICAgICBlbnN1cmVtZW50ID0gX3VzZVJlZ2lzdGVyRWZmZWN0LmVuc3VyZW1lbnQsCiAgICAgICAgaGFuZGxlUmVnaXN0ZXIgPSBfdXNlUmVnaXN0ZXJFZmZlY3QuaGFuZGxlUmVnaXN0ZXI7CgogICAgdmFyIF91c2VMb2dpbkVmZmVjdCA9IHVzZUxvZ2luRWZmZWN0KCksCiAgICAgICAgaGFuZGxlTG9naW5DbGljayA9IF91c2VMb2dpbkVmZmVjdC5oYW5kbGVMb2dpbkNsaWNrOwoKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBlbnN1cmVtZW50OiBlbnN1cmVtZW50LAogICAgICBzaG93OiBzaG93LAogICAgICB0b2FzdE1lc3NhZ2U6IHRvYXN0TWVzc2FnZSwKICAgICAgaGFuZGxlUmVnaXN0ZXI6IGhhbmRsZVJlZ2lzdGVyLAogICAgICBoYW5kbGVMb2dpbkNsaWNrOiBoYW5kbGVMb2dpbkNsaWNrCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\views\\register\\Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\"/>\n    <div class=\"wrapper__input\">\n      <input\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入用户名\"\n        v-model=\"username\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        type=\"password\"\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入密码\"\n        autocomplete=\"new-password\"\n        v-model=\"password\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        class=\"wrapper__input__content\"\n        placeholder=\"确认密码\"\n        type=\"password\"\n        v-model=\"ensurement\"\n      />\n    </div>\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\n    <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">已有账号去登陆</div>\n    <Toast v-if=\"show\" :message=\"toastMessage\"/>\n  </div>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router';\nimport { reactive, toRefs } from 'vue'\nimport { post } from '../../utils/request'\nimport Toast, { useToastEffect } from '../../components/Toast'\n\n// 处理注册相关逻辑\nconst useRegisterEffect = (showToast) => {\n  const router = useRouter()\n  const data = reactive({\n    username: '',\n    password: '',\n    ensurement: ''\n  })\n\n  const handleRegister = async () => {\n    try {\n      const result = await post('/api/user/register', {\n        username: data.username,\n        password: data.password\n      })\n      if (result?.errno === 0) {\n        router.push({ name: 'Login' })\n      } else {\n        showToast('注册失败')\n      }\n    } catch (e) {\n      showToast('请求失败')\n    }\n  }\n\n  const { username, password, ensurement } = toRefs(data)\n  return { username, password, ensurement, handleRegister}\n}\n\n// 处理登陆跳转\nconst useLoginEffect = () => {\n  const router = useRouter()\n  const handleLoginClick = () => {\n    router.push({ name: 'Login'});\n  }\n  return { handleLoginClick }\n}\n\nexport default {\n  name: 'Register',\n  components: { Toast }, \n  setup() {\n    const { show, toastMessage, showToast } = useToastEffect()\n    const { username, password, ensurement, handleRegister } = useRegisterEffect(showToast)\n    const { handleLoginClick } = useLoginEffect();\n    return {\n      username, password, ensurement, show, toastMessage,\n      handleRegister,handleLoginClick\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.wrapper {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n  &__img {\n    display: block;\n    margin: 0 auto .4rem auto;\n    width: .66rem;\n    height: .66rem;\n  }\n  &__input {\n    height: .48rem;\n    margin: 0 .4rem .16rem .4rem;\n    padding: 0 .16rem;\n    background: #F9F9F9;\n    border: .01rem solid rgba(0,0,0,0.10);\n    border-radius: .06rem;\n    border-radius: .06rem;\n    &__content {\n      margin-top: .12rem;\n      line-height: .22rem;\n      border: none;\n      outline: none;\n      width: 100%;\n      background: none;\n      font-size: .16rem;\n      color: $content-notice-fontcolor;\n      &::placeholder {\n        color: $content-notice-fontcolor;\n      }\n    }\n  }\n  &__register-button {\n    margin: .32rem .4rem .16rem .4rem;\n    line-height: .48rem;\n    background: $btn-bgColor;\n    box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\n    border-radius: .04rem;\n    border-radius: .04rem;\n    color: $bgColor;\n    font-size: .16rem;\n    text-align: center;\n  }\n  &__register-link {\n    text-align: center;\n    font-size: .14rem;\n    color: $content-notice-fontcolor;\n  }\n}\n</style>"],"sourceRoot":""}]}