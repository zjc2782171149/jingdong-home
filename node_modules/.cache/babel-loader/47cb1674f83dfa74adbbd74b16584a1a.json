{"remainingRequest":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\thread-loader\\dist\\cjs.js!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\babel-loader\\lib\\index.js!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\views\\shop\\Shop.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\views\\shop\\Shop.vue","mtime":1606652514000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L1x1NUI2Nlx1NEU2MFx1OEY2Rlx1NEVGNi9WdWVcdTk4NzlcdTc2RUUvVnVlXHU1QjlFXHU2MjE4L2ppbmdkb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBnZXQgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IFNob3BJbmZvIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvU2hvcEluZm8nOwppbXBvcnQgQ29udGVudCBmcm9tICcuL0NvbnRlbnQnOwppbXBvcnQgQ2FydCBmcm9tICcuL0NhcnQnOyAvLyDojrflj5blvZPliY3llYbpk7rkv6Hmga8KCnZhciB1c2VTaG9wSW5mb0VmZmVjdCA9IGZ1bmN0aW9uIHVzZVNob3BJbmZvRWZmZWN0KCkgewogIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICBpdGVtOiB7fQogIH0pOwoKICB2YXIgZ2V0SXRlbURhdGEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0KCIvYXBpL3Nob3AvIi5jb25jYXQocm91dGUucGFyYW1zLmlkKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQuZXJybm8pID09PSAwICYmIHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHZvaWQgMCAmJiByZXN1bHQuZGF0YSkgewogICAgICAgICAgICAgICAgZGF0YS5pdGVtID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0SXRlbURhdGEoKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIF90b1JlZnMgPSB0b1JlZnMoZGF0YSksCiAgICAgIGl0ZW0gPSBfdG9SZWZzLml0ZW07CgogIHJldHVybiB7CiAgICBpdGVtOiBpdGVtLAogICAgZ2V0SXRlbURhdGE6IGdldEl0ZW1EYXRhCiAgfTsKfTsgLy8g54K55Ye75Zue6YCA6YC76L6RCgoKdmFyIHVzZUJhY2tSb3V0ZXJFZmZlY3QgPSBmdW5jdGlvbiB1c2VCYWNrUm91dGVyRWZmZWN0KCkgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgdmFyIGhhbmRsZUJhY2tDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUJhY2tDbGljaygpIHsKICAgIHJvdXRlci5iYWNrKCk7CiAgfTsKCiAgcmV0dXJuIGhhbmRsZUJhY2tDbGljazsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2hvcCcsCiAgY29tcG9uZW50czogewogICAgU2hvcEluZm86IFNob3BJbmZvLAogICAgQ29udGVudDogQ29udGVudCwKICAgIENhcnQ6IENhcnQKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdXNlU2hvcEluZm9FZmZlY3QgPSB1c2VTaG9wSW5mb0VmZmVjdCgpLAogICAgICAgIGl0ZW0gPSBfdXNlU2hvcEluZm9FZmZlY3QuaXRlbSwKICAgICAgICBnZXRJdGVtRGF0YSA9IF91c2VTaG9wSW5mb0VmZmVjdC5nZXRJdGVtRGF0YTsKCiAgICB2YXIgaGFuZGxlQmFja0NsaWNrID0gdXNlQmFja1JvdXRlckVmZmVjdCgpOwogICAgZ2V0SXRlbURhdGEoKTsKICAgIHJldHVybiB7CiAgICAgIGl0ZW06IGl0ZW0sCiAgICAgIGhhbmRsZUJhY2tDbGljazogaGFuZGxlQmFja0NsaWNrCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["E:\\学习软件\\Vue项目\\Vue实战\\jingdong\\src\\views\\shop\\Shop.vue"],"names":[],"mappings":";;AAqBA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,EAAoB,QAApB,QAAoC,YAApC;AACA,SAAS,GAAT,QAAoB,qBAApB;AACA,OAAO,QAAP,MAAqB,2BAArB;AACA,OAAO,OAAP,MAAoB,WAApB;AACA,OAAO,IAAP,MAAiB,QAAjB,C,CAEA;;AACA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,GAAM;AAC9B,MAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AAAE,IAAA,IAAI,EAAE;AAAR,GAAD,CAArB;;AACA,MAAM,WAAU;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACG,GAAG,qBAAc,KAAK,CAAC,MAAN,CAAa,EAA3B,EADN;;AAAA;AACZ,cAAA,MADY;;AAElB,kBAAG,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,KAAR,MAAkB,CAAlB,IAAuB,MAAvB,aAAuB,MAAvB,eAAuB,MAAM,CAAE,IAAlC,EAAwC;AACtC,gBAAA,IAAI,CAAC,IAAL,GAAY,MAAM,CAAC,IAAnB;AACF;;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAV,WAAU;AAAA;AAAA;AAAA,KAAhB;;AAMA,gBAAiB,MAAM,CAAC,IAAD,CAAvB;AAAA,MAAQ,IAAR,WAAQ,IAAR;;AACA,SAAO;AAAE,IAAA,IAAI,EAAJ,IAAF;AAAQ,IAAA,WAAU,EAAV;AAAR,GAAP;AACF,CAXA,C,CAaA;;;AACA,IAAM,mBAAkB,GAAI,SAAtB,mBAAsB,GAAM;AAChC,MAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,MAAM,eAAc,GAAI,SAAlB,eAAkB,GAAM;AAC5B,IAAA,MAAM,CAAC,IAAP;AACF,GAFA;;AAGA,SAAO,eAAP;AACF,CANA;;AAQA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAY,IAAA,OAAO,EAAP,OAAZ;AAAqB,IAAA,IAAG,EAAH;AAArB,GAFC;AAGb,EAAA,KAHa,mBAGL;AACN,6BAA8B,iBAAiB,EAA/C;AAAA,QAAQ,IAAR,sBAAQ,IAAR;AAAA,QAAc,WAAd,sBAAc,WAAd;;AACA,QAAM,eAAc,GAAI,mBAAmB,EAA3C;AACA,IAAA,WAAW;AACX,WAAO;AAAE,MAAA,IAAI,EAAJ,IAAF;AAAQ,MAAA,eAAc,EAAd;AAAR,KAAP;AACF;AARa,CAAf","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"search\">\n      <div class=\"search__back iconfont\" @click=\"handleBackClick\">\n        &#xe6f2;\n      </div>\n      <div class=\"search__content\">\n        <span class=\"search__content__icon iconfont\">&#xe62d;</span>\n        <input\n          class=\"search__content__input\"\n          placeholder=\"请输入商品名称\"\n        />\n      </div>\n    </div>\n    <ShopInfo :item=\"item\" :hideBorder=\"true\" v-show=\"item.imgUrl\"/>\n    <Content :shopName=\"item.name\" />\n    <Cart />\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { get } from '../../utils/request'\nimport ShopInfo from '../../components/ShopInfo'\nimport Content from './Content'\nimport Cart from './Cart'\n\n// 获取当前商铺信息\nconst useShopInfoEffect = () => {\n  const route = useRoute()\n  const data = reactive({ item: {} })\n  const getItemData = async () => {\n    const result = await get(`/api/shop/${route.params.id}`)\n    if(result?.errno === 0 && result?.data) {\n      data.item = result.data\n    }\n  }\n  const { item } = toRefs(data)\n  return { item, getItemData }\n}\n\n// 点击回退逻辑\nconst useBackRouterEffect = () => {\n  const router = useRouter()\n  const handleBackClick = () => {\n    router.back()\n  }\n  return handleBackClick\n}\n\nexport default {\n  name: 'Shop',\n  components: { ShopInfo, Content, Cart },\n  setup() {\n    const { item, getItemData } = useShopInfoEffect()\n    const handleBackClick = useBackRouterEffect()\n    getItemData()\n    return { item, handleBackClick }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.wrapper {\n  padding: 0 .18rem;\n}\n.search {\n  display: flex;\n  margin: .14rem 0 .04rem 0;\n  line-height: .32rem;\n  &__back {\n    width: .3rem;\n    font-size: .24rem;\n    color: #B6B6B6;\n  }\n  &__content {\n    display: flex;\n    flex: 1;\n    background: $search-bgColor;\n    border-radius: .16rem;\n    &__icon {\n      width: .44rem;\n      text-align: center;\n      color: $search-fontColor;\n    }\n    &__input {\n      display: block;\n      width: 100%;\n      padding-right: .2rem;\n      border: none;\n      outline: none;\n      background: none;\n      height: .32rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      &::placeholder {\n        color: $content-fontcolor;\n      }\n    }\n  }\n}\n</style>"],"sourceRoot":""}]}