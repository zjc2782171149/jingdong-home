{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/effects/addressEffect.js","webpack:///./src/views/orderConfirmation/Order.vue?3119","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/orderConfirmation/TopArea.vue?57c2","webpack:///./src/effects/cartEffects.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/orderConfirmation/OrderConfirmation.vue","webpack:///./src/views/orderConfirmation/TopArea.vue","webpack:///./src/views/orderConfirmation/addressEffect.js","webpack:///./src/views/orderConfirmation/TopArea.vue?0288","webpack:///./src/views/orderConfirmation/ProductList.vue","webpack:///./src/views/orderConfirmation/ProductList.vue?f29e","webpack:///./src/views/orderConfirmation/Order.vue","webpack:///./src/views/orderConfirmation/Order.vue?f2fe","webpack:///./src/views/orderConfirmation/OrderConfirmation.vue?5607","webpack:///./src/views/orderConfirmation/OrderConfirmation.vue?5f23","webpack:///./src/views/orderConfirmation/ProductList.vue?5a8b"],"names":["toInteger","toString","requireObjectCoercible","module","exports","count","str","this","result","n","Infinity","RangeError","useCommonAddressEffect","store","useStore","getAddressList","forceUpdate","addressList","state","length","get","data","commit","classof","value","TypeError","useCommonCartEffect","shopId","cartList","changeCartItemInfo","productId","productInfo","num","productList","computed","notEmptyProductList","i","product","shopName","calculations","total","price","allChecked","check","toFixed","$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","undefined","thisNumberValue","repeat","fails","nativeToFixed","floor","Math","pow","x","acc","log","x2","multiply","c","index","c2","divide","dataToString","s","t","String","call","FORCED","fractionDigits","e","z","j","k","number","fractDigits","sign","slice","class","handleBackClick","address","handleAddressClick","city","department","houseNumber","name","phone","useAddressEffect","route","useRoute","addressId","params","currentAddress","item","_id","setup","router","id","back","push","render","__scopeId","key","src","imgUrl","handleShowConfirmChange","handleConfirmOrder","showConfirm","isCanceled","products","errno","status","components","TopArea","ProductList","Order"],"mappings":"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","file":"js/orderConfirmation.ec6562dc.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","import { useStore } from 'vuex'\nimport { get } from '../utils/request'\n\nconst useCommonAddressEffect = () => {\n  const store = useStore()\n\n  const getAddressList = async (forceUpdate) => {\n    const addressList = store.state.addressList;\n    if(forceUpdate || !addressList.length) {\n      const result = await get('/api/user/address')\n      if(result?.data?.length) {\n        store.commit('changeAddressList', result.data)\n      }\n    }\n  }\n\n  return { getAddressList }\n}\n\nexport default useCommonAddressEffect","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Order.vue?vue&type=style&index=0&id=13c85c26&lang=scss&scoped=true\"","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopArea.vue?vue&type=style&index=0&id=275476f1&lang=scss&scoped=true\"","import { computed } from 'vue'\nimport { useStore } from 'vuex'\n// 购物车相关逻辑\nexport const useCommonCartEffect = (shopId) => {\n  const store = useStore()\n  const cartList = store.state.cartList;\n  const changeCartItemInfo = (shopId, productId, productInfo, num) => {\n    store.commit('changeCartItemInfo', {\n      shopId, productId, productInfo, num\n    })\n  }\n  \n  const productList = computed(() => {\n    const productList = cartList[shopId]?.productList || {}\n    const notEmptyProductList = {}\n    for(let i in productList) {\n      const product = productList[i]\n      if(product.count > 0 ) {\n        notEmptyProductList[i] = product\n      }\n    }\n    return notEmptyProductList\n  })\n\n  const shopName = computed(() => {\n    const shopName = cartList[shopId]?.shopName || ''\n    return shopName\n  })\n\n  const calculations = computed(() => {\n    const productList = cartList[shopId]?.productList\n    const result = { total: 0, price: 0, allChecked: true}\n    if(productList) {\n       for(let i in productList) {\n         const product = productList[i]\n         result.total += product.count\n         if(product.check) {\n           result.price += (product.count * product.price)\n         }\n         if(product.count > 0 && !product.check) {\n           result.allChecked = false\n         }\n      }\n    }\n    result.price = result.price.toFixed(2)\n    return result\n  })\n\n  return { cartList, shopName, productList, calculations, changeCartItemInfo }\n}","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","<template>\n  <div class=\"wrapper\">\n    <TopArea />\n    <ProductList />\n    <Order />\n  </div>\n</template>\n\n<script>\nimport useCommonAddressEffect from '../../effects/addressEffect'\nimport TopArea from './TopArea'\nimport ProductList from './ProductList'\nimport Order from './Order'\n\nexport default {\n  name: 'OrderConfirmation',\n  components: { TopArea, ProductList, Order },\n  setup() {\n    const { getAddressList } = useCommonAddressEffect()\n    getAddressList()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.wrapper {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: $dark-bgColor;\n  overflow-y: scroll;\n}\n</style>","<template>\n  <div class=\"top\">\n    <div class=\"top__header\">\n      <div\n        class=\"iconfont top__header__back\"\n        @click=\"handleBackClick\"\n      >&#xe6f2;</div>\n      确认订单\n    </div>\n    <div class=\"top__receiver\">\n      <div class=\"top__receiver__title\">收货地址</div>\n      <div v-if=\"address\" @click=\"handleAddressClick\">\n        <div class=\"top__receiver__address\">\n          {{address.city}}{{address.department}}{{address.houseNumber}}\n        </div>\n        <div class=\"top__receiver__info\">\n          <span class=\"top__receiver__info__name\">{{address.name}}</span>\n          <span class=\"top__receiver__info__name\">{{address.phone}}</span>\n        </div>\n        <div class=\"iconfont top__receiver__icon\">&#xe6f2;</div>\n      </div>\n      <div v-else>\n        <div class=\"top__receiver__address\">\n          暂无可用地址\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRouter, useRoute } from 'vue-router'\nimport useAddressEffect from './addressEffect'\n\nexport default {\n  name: 'TopArea',\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const shopId = route.params.id\n    const handleBackClick = () => { router.back() }\n    const handleAddressClick = () => { router.push(`/chooseAddressList/${shopId}`) }\n    const address = useAddressEffect()\n    return { handleBackClick, handleAddressClick, address }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n.top {\n  position: relative;\n  height: 1.96rem;\n  background-size: 100% 1.59rem;\n  background-image: linear-gradient(0deg, rgba(0,145,255,0.00) 4%, #0091FF 50%);\n  background-repeat: no-repeat;\n  &__header {\n    position: relative;\n    padding-top: .2rem;\n    line-height: .24rem;\n    color: $bgColor;\n    text-align: center;\n    font-size: .16rem;\n    &__back {\n      position: absolute;\n      left: .18rem;\n      font-size: .22rem;\n    }\n  }\n  &__receiver {\n    position: absolute;\n    left: .18rem;\n    right: .18rem;\n    bottom: 0;\n    height: 1.11rem;\n    background: $bgColor;\n    border-radius: .04rem;\n    &__title {\n      line-height: .22rem;\n      padding: .16rem 0 .14rem .16rem;\n      font-size: .16rem;\n      color: $content-fontcolor;\n    }\n    &__address {\n      line-height: .2rem;\n      padding: 0 .4rem 0 .16rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n    &__info {\n      padding: .06rem 0 0 .16rem;\n      &__name {\n        margin-right: .06rem;\n        line-height: .18rem;\n        font-size: .12rem;\n        color: $medium-fontColor;\n      }\n    }\n    &__icon {\n      transform: rotate(180deg);\n      position: absolute;\n      right: .16rem;\n      top: .5rem;\n      color: $medium-fontColor;\n      font-size: .2rem;\n    }\n  }\n}\n</style>","import { computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\n\nconst useAddressEffect = () => {\n  const route = useRoute()\n  const addressId = route.params.addressId\n  const currentAddress = computed(() => {\n    const store = useStore()\n    const addressList = store.state.addressList\n    return addressList.find(item => item._id === addressId) || addressList[0]\n  })\n  return currentAddress\n}\n\nexport default useAddressEffect\n","import { render } from \"./TopArea.vue?vue&type=template&id=275476f1&scoped=true\"\nimport script from \"./TopArea.vue?vue&type=script&lang=js\"\nexport * from \"./TopArea.vue?vue&type=script&lang=js\"\n\nimport \"./TopArea.vue?vue&type=style&index=0&id=275476f1&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-275476f1\"\n\nexport default script","<template>\n<div class=\"products\">\n  <div class=\"products__title\">\n    {{shopName}}\n  </div>\n  <div class=\"products__wrapper\">\n    <div class=\"products__list\">\n      <div\n        v-for=\"item in productList\"\n        :key=\"item._id\"\n        class=\"products__item\"\n      >\n        <img class=\"products__item__img\" :src=\"item.imgUrl\" />\n        <div class=\"products__item__detail\">\n          <h4 class=\"products__item__title\">{{item.name}}</h4>\n          <p class=\"products__item__price\">\n            <span>\n              <span class=\"products__item__yen\">&yen; </span>\n              {{item.price}} x {{item.count}}\n            </span>\n            <span class=\"products__item__total\">\n              <span class=\"products__item__yen\">&yen; </span>\n              {{(item.price * item.count).toFixed(2)}}\n            </span>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport { useRoute } from 'vue-router'\nimport { useCommonCartEffect } from '../../effects/cartEffects'\nexport default {\n  name: 'ProductList',\n  setup() {\n    const route = useRoute()\n    const shopId = route.params.id\n    const { shopName, productList } = useCommonCartEffect(shopId)\n    return { shopName, productList }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n.products {\n  margin: .16rem .18rem .1rem .18rem;\n  background: $bgColor;\n  &__title {\n    padding: .16rem;\n    font-size: .16rem;\n    color: $content-fontcolor;\n  }\n  &__wrapper {\n    overflow-y: scroll;\n    margin: 0 .18rem;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: .6rem;\n    top: 2.6rem;\n  }\n  &__list {\n    background: $bgColor;\n  }\n  &__item {\n    position: relative;\n    display: flex;\n    padding: 0 .16rem 0.16rem .16rem;\n    &__img {\n      width: .46rem;\n      height: .46rem;\n      margin-right: .16rem;\n    }\n    &__detail {\n      flex: 1;\n    }\n    &__title {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n    &__price {\n      display: flex;\n      margin: .06rem 0 0 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $hightlight-fontColor;\n    }\n    &__total {\n      flex: 1;\n      text-align: right;\n      color: $dark-fontColor;\n    }\n    &__yen {\n      font-size: .12rem;\n    }\n  }\n}\n</style>","import { render } from \"./ProductList.vue?vue&type=template&id=51236a8a&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=51236a8a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-51236a8a\"\n\nexport default script","<template>\n  <div class=\"order\">\n    <div class=\"order__price\">实付金额 <b>¥{{calculations.price}}</b></div>\n    <div\n      v-if=\"address\"\n      class=\"order__btn\"\n      @click=\"() => handleShowConfirmChange(true)\"\n    >提交订单</div>\n  </div>\n  <div\n    class=\"mask\"\n    v-show=\"showConfirm\"\n    @click=\"() => handleShowConfirmChange(false)\"\n  >\n    <div class=\"mask__content\" @click.stop>\n      <h3 class=\"mask__content__title\">确认要离开收银台？</h3>\n      <p class=\"mask__content__desc\">请尽快完成支付，否则将被取消</p>\n      <div class=\"mask__content__btns\">\n        <div\n          class=\"mask__content__btn mask__content__btn--first\"\n          @click=\"() => handleConfirmOrder(true)\"\n        >取消订单</div>\n        <div\n          class=\"mask__content__btn mask__content__btn--last\"\n          @click=\"() => handleConfirmOrder(false)\"\n        >确认支付</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { post } from '../../utils/request'\nimport { useCommonCartEffect } from '../../effects/cartEffects'\nimport useAddressEffect from './addressEffect'\n\n// 下单相关逻辑\nconst useMakeOrderEffect = (shopId, shopName, productList, address) => {\n  const router = useRouter()\n  const store = useStore()\n\n  const handleConfirmOrder = async (isCanceled) => {\n    const products = []\n    for(let i in productList.value) {\n      const product = productList.value[i]\n      products.push({id: product._id, num: product.count})\n    }\n    try {\n      const result = await post('/api/order', {\n        addressId: address.value._id,\n        shopId,\n        shopName: shopName.value,\n        isCanceled,\n        products\n      })\n      if (result?.errno === 0) {\n        store.commit('clearCartData11', shopId)\n        router.push({ name: 'OrderList' })\n      } \n    } catch (e) {\n      // 提示下单失败\n    }\n  }\n  return { handleConfirmOrder }\n}\n\n// 蒙层展示相关的逻辑\nconst useShowMaskEffect = () => {\n  const showConfirm = ref(false)\n  const handleShowConfirmChange = (status) => {\n    showConfirm.value = status\n  }\n  return { showConfirm, handleShowConfirmChange }\n}\n\nexport default {\n  name: 'Order',\n  setup() {\n    const route = useRoute()\n    const shopId = route.params.id\n    const address = useAddressEffect()\n    const { calculations, shopName, productList } = useCommonCartEffect(shopId)\n    const { handleConfirmOrder } = useMakeOrderEffect(shopId, shopName, productList, address)\n    const { showConfirm, handleShowConfirmChange } = useShowMaskEffect()\n    return { address, showConfirm, handleShowConfirmChange, calculations, handleConfirmOrder }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.order {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  height: .49rem;\n  line-height: .49rem;\n  background: $bgColor;\n  &__price {\n    flex: 1;\n    text-indent: .24rem;\n    font-size: .14rem;\n    color: $content-fontcolor;\n  }\n  &__btn {\n    width: .98rem;\n    background: $btn-bgColor;\n    color: $bgColor;\n    text-align: center;\n    font-size: .14rem;\n  }\n}\n.mask {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  background: rgba(0, 0, 0, .5);\n  &__content {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 3rem;\n    height: 1.56rem;\n    background: $bgColor;\n    text-align: center;\n    border-radius: .04rem;\n    &__title {\n      margin: .24rem 0 0 0;\n      line-height: .26rem;\n      font-size: .18rem;\n      color: $content-fontcolor;\n    }\n    &__desc {\n      margin: .08rem 0 0 0;\n      font-size: .14rem;\n      color: $medium-fontColor;\n    }\n    &__btns {\n      display: flex;\n      margin: .24rem .58rem;\n    }\n    &__btn {\n      flex: 1;\n      width: .8rem;\n      line-height: .32rem;\n      border-radius: .16rem;\n      font-size: .14rem;\n      &--first {\n        margin-right: .12rem;\n        border: .01rem solid $btn-bgColor;\n        color: $btn-bgColor;\n      }\n      &--last {\n        margin-left: .12rem;\n        background: $btn-bgColor;\n        color: #fff;\n      }\n    }\n  }\n}\n</style>","import { render } from \"./Order.vue?vue&type=template&id=13c85c26&scoped=true\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport \"./Order.vue?vue&type=style&index=0&id=13c85c26&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-13c85c26\"\n\nexport default script","import { render } from \"./OrderConfirmation.vue?vue&type=template&id=1bad0ca6&scoped=true\"\nimport script from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\nexport * from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\n\nimport \"./OrderConfirmation.vue?vue&type=style&index=0&id=1bad0ca6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1bad0ca6\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OrderConfirmation.vue?vue&type=style&index=0&id=1bad0ca6&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductList.vue?vue&type=style&index=0&id=51236a8a&lang=scss&scoped=true\""],"sourceRoot":""}